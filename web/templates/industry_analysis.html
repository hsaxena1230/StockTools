<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Comprehensive Industry Analysis</title>
    <link rel="stylesheet" href="../static/css/style.css">
    <link rel="stylesheet" href="../static/css/journey.css">
    <link rel="stylesheet" href="../static/css/industry_analysis.css">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/axios/dist/axios.min.js"></script>
</head>
<body>
    <div class="analysis-container">
        <header class="analysis-header">
            <div class="header-content">
                <div class="header-title">
                    <div class="title-icon">
                        <i class="fas fa-industry"></i>
                    </div>
                    <div class="title-text">
                        <h1>Comprehensive Industry Analysis</h1>
                        <p>All industry indices with NIFTY 500 and 200-day MA performance context</p>
                    </div>
                </div>
                <nav class="analysis-nav">
                    <a href="/journey" class="nav-btn">
                        <i class="fas fa-route"></i>
                        <span>Journey Analysis</span>
                    </a>
                    <a href="/journey-smoothed" class="nav-btn">
                        <i class="fas fa-wave-square"></i>
                        <span>Smoothed Journey</span>
                    </a>
                    <a href="/" class="nav-btn">
                        <i class="fas fa-arrow-left"></i>
                        <span>Dashboard</span>
                    </a>
                </nav>
            </div>
        </header>

        <div class="analysis-controls">
            <div class="controls-card">
                <div class="control-section">
                    <div class="control-item">
                        <label for="analysisType">
                            <i class="fas fa-chart-bar"></i>
                            <span>Analysis Type</span>
                        </label>
                        <select id="analysisType" class="modern-select">
                            <option value="all" selected>All Industries</option>
                            <option value="leaders">Leaders Only</option>
                            <option value="improving">Improving Only</option>
                            <option value="weakening">Weakening Only</option>
                            <option value="laggards">Laggards Only</option>
                        </select>
                    </div>
                    
                    <div class="control-item">
                        <label for="benchmarkSelect">
                            <i class="fas fa-chart-line"></i>
                            <span>Benchmark</span>
                        </label>
                        <select id="benchmarkSelect" class="modern-select">
                            <option value="nifty500" selected>NIFTY 500</option>
                            <option value="nifty200" disabled>NIFTY 200 (Coming Soon)</option>
                        </select>
                    </div>
                    
                    <div class="control-item">
                        <label for="sortBy">
                            <i class="fas fa-sort"></i>
                            <span>Sort By</span>
                        </label>
                        <select id="sortBy" class="modern-select">
                            <option value="momentum">Momentum</option>
                            <option value="rs" selected>Relative Strength</option>
                            <option value="alphabetical">Alphabetical</option>
                            <option value="quadrant">Quadrant</option>
                        </select>
                    </div>
                    
                    <button id="loadAnalysisBtn" class="modern-btn primary">
                        <i class="fas fa-sync-alt"></i>
                        <span>Load Analysis</span>
                    </button>
                </div>
            </div>
        </div>

        <div class="benchmark-info">
            <div class="info-card">
                <h3>
                    <i class="fas fa-info-circle"></i>
                    Chart Standardization
                </h3>
                <div class="chart-specs">
                    <div class="spec-item">
                        <span class="spec-label">Y-Axis (Momentum):</span>
                        <span class="spec-value">-50% to +50%</span>
                    </div>
                    <div class="spec-item">
                        <span class="spec-label">X-Axis (Relative Strength):</span>
                        <span class="spec-value">0 to 200</span>
                    </div>
                    <div class="spec-item">
                        <span class="spec-label">Benchmark:</span>
                        <span id="currentBenchmark" class="spec-value">NIFTY 500</span>
                    </div>
                    <div class="spec-item">
                        <span class="spec-label">Moving Average:</span>
                        <span class="spec-value">200-day MA</span>
                    </div>
                </div>
            </div>
        </div>

        <div class="analysis-summary">
            <div class="summary-card">
                <h3>
                    <i class="fas fa-chart-pie"></i>
                    Market Overview
                </h3>
                <div id="marketSummary" class="summary-content">
                    <div class="summary-loading">
                        <i class="fas fa-spinner fa-spin"></i>
                        <span>Loading market data...</span>
                    </div>
                </div>
            </div>
        </div>

        <div class="charts-section">
            <div class="charts-header">
                <h2>
                    <i class="fas fa-chart-area"></i>
                    Industry Performance Charts
                </h2>
                <p>Standardized momentum vs relative strength analysis for all sectors</p>
            </div>
            
            <div id="chartsContainer" class="charts-grid">
                <div class="charts-loading">
                    <div class="loading-icon">
                        <i class="fas fa-chart-bar fa-3x"></i>
                    </div>
                    <h3>Loading Industry Charts...</h3>
                    <p>Preparing comprehensive analysis for all industry sectors</p>
                </div>
            </div>
        </div>

        <div class="performance-rankings">
            <div class="rankings-header">
                <h3>
                    <i class="fas fa-trophy"></i>
                    Performance Rankings
                </h3>
                <p>Top and bottom performers across all metrics</p>
            </div>
            <div id="rankingsContent" class="rankings-container">
                <div class="empty-state">
                    <div class="empty-icon">
                        <i class="fas fa-medal"></i>
                    </div>
                    <h4>Load Analysis to See Rankings</h4>
                    <p>Click "Load Analysis" to see performance rankings.</p>
                </div>
            </div>
        </div>
    </div>

    <div id="loadingOverlay" class="loading-overlay hidden">
        <div class="loading-spinner"></div>
        <p>Loading comprehensive industry analysis...</p>
    </div>

    <script src="../static/js/industry_analysis.js"></script>
</body>
</html>